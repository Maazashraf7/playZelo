<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teen Patti Game</title>
  <link rel="stylesheet" href="game.css">
</head>
<style>
    body, html {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  font-family: sans-serif;
  overflow: hidden;
  background-image: url('/TeenpattiWeb/Images/teenpatti7.png');
  background-position: center;
  background-size: cover;
}

.game-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.background-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(11,61,145,0.5);
  z-index: 0;
}

.logo {
  position: absolute;
  top: 20px; left: 20px;
  width: 100px;
  height: auto;
  z-index: 2;
}

.dealer {
  position: absolute;
  top: 5%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
}
.dealer .avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
}

.player {
  position: absolute;
  width: 100px;
  text-align: center;
  z-index: 2;
}
.player .avatar {
  width: 60px; height: 60px; border-radius: 50%;
}
.player .name {
  color: #fff; font-size: 14px; margin-top: 5px;
}
.player .cards {
  position: relative;
  width: 100px; height: 120px;
  margin-top: 5px;
}
.player .cards .card {
  width: 60px; height: 90px;
  position: absolute;
  top: 0; left: 0;
  border-radius: 6px;
  transform-origin: bottom center;
  transition: all 0.5s ease;
}

/* Fanned cards per slot */
.player .cards .card:nth-child(1) { transform: rotate(-15deg) translateX(-20px); z-index:1; }
.player .cards .card:nth-child(2) { transform: rotate(0deg) translateX(0px); z-index:2; }
.player .cards .card:nth-child(3) { transform: rotate(15deg) translateX(20px); z-index:3; }

/* Player Positions */
.bottom-center { bottom: 10%; left: 50%; transform: translateX(-50%); }
.top-left { top: 10%; left: 10%; }
.top-right { top: 10%; right: 10%; }
.bottom-left { bottom: 20%; left: 10%; }
.bottom-right { bottom: 20%; right: 10%; }

/* Deck (hidden center) */
.deck {
  position: absolute;
  width: 60px; height: 90px;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  z-index: 3;
}

/* Action Buttons */
.actions {
  position: absolute; bottom: 10px;
  left: 50%; transform: translateX(-50%);
  z-index: 4;
}
.actions button {
  padding: 10px 20px;
  border-radius: 8px;
  border: none; font-weight: bold;
  cursor: pointer;
  background-color: #f7b731;
  margin: 0 5px;
}
.actions button:hover { background-color: #ffd700; }

</style>
<body>
<div class="game-container">

  <!-- Background overlay -->
  <div class="background-overlay"></div>

  <!-- Logo (Top Left) -->
  <img src="/TeenpattiWeb/Images/teenpattilogoo2.png" alt="Game Logo" class="logo">

  <!-- Dealer (Top Center) -->
  <div class="dealer">
    <img src="/TeenpattiWeb/Images/dealer.png" alt="Dealer" class="avatar">
  </div>

  <!-- Players -->
  <div class="player bottom-center" id="player-0">
    <img src="/TeenpattiWeb/Images/boy.png" class="avatar">
    <div class="name">You $0.3</div>
    <div class="cards"></div>
  </div>

  <div class="player top-left" id="player-1">
    <img src="/TeenpattiWeb/Images/girl.png" class="avatar">
    <div class="name">SuzuKa $0.6</div>
    <div class="cards"></div>
  </div>

  <div class="player top-right" id="player-2">
    <img src="/TeenpattiWeb/Images/girl.png" class="avatar">
    <div class="name">Kiran $0.8</div>
    <div class="cards"></div>
  </div>

  <div class="player bottom-left" id="player-3" style="bottom: 5%; left: 10%;">
    <img src="/TeenpattiWeb/Images/boy.png" class="avatar">
    <div class="name">Rajesh $0.2</div>
    <div class="cards"></div>
</div>


  <div class="player bottom-right" id="player-4">
    <img src="/TeenpattiWeb/Images/man.png" class="avatar">
    <div class="name">Charu $0.2</div>
    <div class="cards"></div>
  </div>

  <!-- Deck (hidden center) -->
  <div id="deck" class="deck"></div>

  <!-- Action Buttons -->
  <div class="actions">
    <button onclick="dealCards()">Deal Cards</button>
    <button class="btn chal">Chal</button>
    <button class="btn bet">Bet</button>
    <button class="btn fold">Fold</button>
  </div>

</div>

<script src="game.js"></script>
<script>
    const suits = ["spade","club","diamond","heart"];
const values = ["2","3","4","5","6","7","8","9","10","j","q","k","a"];
let deck = [];
const players = [0,1,2,3,4]; // player IDs

function generateDeck() {
    deck = [];
    for(let suit of suits){
        for(let value of values){
            deck.push({suit, value, img:`/TeenpattiWeb/Images/${suit}_${value}.png`});
        }
    }
    deck = shuffle(deck);
}

function shuffle(array) {
    for(let i=array.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function dealCards() {
    generateDeck();
    const dealerDiv = document.querySelector('.dealer');

    for(let i=0;i<3;i++){ // 3 cards each
        players.forEach((p,index)=>{
            const card = deck.pop();
            const cardDiv = document.createElement('img');
            cardDiv.src = card.img;
            cardDiv.className = 'card';

            // Start from dealer position
            const dealerRect = dealerDiv.getBoundingClientRect();
            cardDiv.style.top = dealerRect.top + 'px';
            cardDiv.style.left = dealerRect.left + 'px';
            cardDiv.style.position = 'absolute';
            cardDiv.style.zIndex = 1000;
            document.body.appendChild(cardDiv);

            const playerDiv = document.getElementById(`player-${p}`);
            const playerRect = playerDiv.getBoundingClientRect();

            // Fanned style offsets
            const offsetX = (i-1)*20;
            const rotate = (i-1)*15;

            // Animate card from dealer to player
            setTimeout(()=>{
                cardDiv.style.transition = 'all 0.8s ease';
                cardDiv.style.top = playerRect.top + 'px';
                cardDiv.style.left = (playerRect.left + offsetX) + 'px';
                cardDiv.style.transform = `rotate(${rotate}deg)`;
            }, 100 + i*200 + index*100);

            // Move into player's .cards div after animation
            setTimeout(()=>{
                playerDiv.querySelector('.cards').appendChild(cardDiv);
                cardDiv.style.position = 'relative';
                cardDiv.style.top = '0px';
                cardDiv.style.left = '0px';
                cardDiv.style.transform = `rotate(${rotate}deg)`;
                cardDiv.style.transition = '';
            }, 1000 + i*200 + index*100);
        });
    }
}

</script>
</body>
</html>
